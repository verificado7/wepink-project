<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>wepink :: Login</title>
  <meta name="description" content="FaÃ§a login ou continue como convidado na Wepink">
  <meta name="copyright" content="WePink">
  <meta name="author" content="WePink">
  <meta name="country" content="BRA">
  <meta name="language" content="pt-BR">
  <meta name="robots" content="index, follow">
  <link rel="icon" href="img/we.png" type="image/png">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f5f5f5 0%, #e0e7ff 100%);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
      transition: opacity 0.5s ease;
    }

    body.fade-out {
      opacity: 0;
    }

    .notification-bar {
      background: linear-gradient(90deg, #ff2e82, #ff99cc);
      color: white;
      text-align: center;
      padding: 10px;
      font-weight: 600;
      font-size: 0.95rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .notification-bar a {
      color: white;
      text-decoration: none;
      transition: color 0.3s;
    }

    .notification-bar a:hover {
      color: #f0f0f0;
      text-decoration: underline;
    }

    .header-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 24px;
      background: linear-gradient(90deg, #ff2e82, #ff99cc);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: background 0.3s ease;
    }

    .header-bar .logo-text {
      font-weight: 700;
      font-size: 1.5rem;
      color: #fff;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      transition: color 0.3s ease;
    }

    .header-icons {
      display: flex;
      gap: 16px;
      position: relative;
    }

    .header-icons a,
    .menu-icon {
      background: none;
      border: none;
      cursor: pointer;
      outline: none;
    }

    .header-icons svg,
    .menu-icon svg {
      width: 24px;
      height: 24px;
      stroke: #fff;
      stroke-width: 2;
      transition: stroke 0.3s ease, transform 0.3s ease;
    }

    .header-icons svg:hover,
    .menu-icon svg:hover {
      stroke: #ff2e82;
      transform: scale(1.1);
    }

    .login-section {
      max-width: 400px;
      margin: 40px auto;
      padding: 25px;
      flex: 1;
      animation: fadeIn 0.5s ease-in-out;
      text-align: center;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .login-section:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);
    }

    .login-section h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ff2e82;
      margin-bottom: 24px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }

    .login-section .error-message {
      color: #ff2e82;
      font-size: 0.85rem;
      margin: -2px 0 8px;
      display: none;
      background: #fff2f4;
      padding: 4px 8px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .login-section .error-message.visible {
      display: block;
    }

    .login-section input {
      width: 100%;
      padding: 12px 16px;
      margin: 8px 0;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 0.95rem;
      background: #f9f9fb;
      transition: all 0.3s ease;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .login-section input:focus {
      border-color: #ff2e82;
      background: #fff;
      box-shadow: 0 0 8px rgba(255, 46, 130, 0.3);
      outline: none;
    }

    .login-section input.invalid {
      border-color: #ff2e82;
      background: #fff2f4;
    }

    .login-section input::placeholder {
      color: #999;
      font-weight: normal;
      font-size: 0.95rem;
    }

    .login-section .password-wrapper {
      position: relative;
    }

    .login-section .password-wrapper .toggle-password {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
    }

    .login-section .password-wrapper .toggle-password svg {
      width: 20px;
      height: 20px;
      stroke: #666;
      stroke-width: 2;
      transition: stroke 0.3s;
    }

    .login-section .password-wrapper .toggle-password svg:hover {
      stroke: #ff2e82;
    }

    .login-section .forgot-password {
      display: block;
      font-size: 0.875rem;
      color: #ff2e82;
      text-decoration: none;
      margin: 5px 0;
      text-align: right;
      font-weight: normal;
      transition: color 0.3s;
    }

    .login-section .forgot-password:hover {
      color: #e02974;
      text-decoration: underline;
    }

    .login-section .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
    }

    .login-section button {
      background: linear-gradient(90deg, #ff2e82, #ff99cc);
      color: white;
      padding: 14px 20px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      width: 100%;
      margin-top: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
    }

    .login-section button:hover {
      background: linear-gradient(90deg, #e02974, #ff80b3);
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .login-section button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .login-section .guest-button {
      background: linear-gradient(90deg, #ffffff, #f9f9f9);
      color: #ff2e82;
      border: 2px solid #ff2e82;
    }

    .login-section .guest-button:hover {
      background: linear-gradient(90deg, #ff2e82, #ff99cc);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .login-section .signup-link {
      font-size: 0.875rem;
      color: #ff2e82;
      text-decoration: none;
      margin-top: 16px;
      display: inline-block;
      font-weight: normal;
      transition: color 0.3s;
    }

    .login-section .signup-link:hover {
      color: #e02974;
      text-decoration: underline;
    }

    .guest-details {
      display: none;
      margin-top: 20px;
    }

    .guest-details.active {
      display: block;
    }

    .spinner {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
      border: 3px solid #fff;
      border-top: 3px solid #ff2e82;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .spinner.visible {
      display: block;
    }

    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    button.loading {
      opacity: 0.7;
      cursor: not-allowed;
    }

    footer {
      background: linear-gradient(90deg, #ff2e82, #ff99cc);
      color: #fff;
      padding: 40px 16px;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
      margin-top: auto;
      transition: background 0.3s ease;
    }

    footer .footer-logo {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 24px;
      text-align: center;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    footer .footer-logo:hover {
      transform: scale(1.05);
    }

    footer .footer-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin-bottom: 28px;
    }

    footer .footer-links a {
      color: #fff;
      text-decoration: none;
      font-size: 0.95rem;
      font-weight: 400;
      padding: 8px 12px;
      border-radius: 6px;
      transition: color 0.3s ease, background 0.3s ease, transform 0.3s ease;
      text-transform: capitalize;
    }

    footer .footer-links a:hover {
      color: #ff2e82;
      background: #fff;
      transform: translateY(-2px);
    }

    footer .footer-links a:focus {
      outline: 2px solid #fff;
      outline-offset: 2px;
    }

    footer .social-links {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 28px;
    }

    footer .social-links a {
      background-color: #fff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
    }

    footer .social-links a:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
      background: #f0f0f0;
    }

    footer .social-links a:focus {
      outline: 2px solid #fff;
      outline-offset: 2px;
    }

    footer .social-links img {
      width: 24px;
      height: 24px;
      transition: filter 0.3s ease;
    }

    footer .social-links a:hover img {
      filter: brightness(0.9);
    }

    footer .payment-methods {
      text-align: center;
      margin-top: 24px;
    }

    footer .payment-methods h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }

    footer .payment-methods img {
      margin: 0 6px;
      height: 30px;
      border-radius: 4px;
      background: #fff;
      padding: 2px;
      transition: transform 0.3s ease, filter 0.3s ease;
    }

    footer .payment-methods img:hover {
      transform: scale(1.1);
      filter: brightness(0.9);
    }

    footer .payment-methods img.pix-icon {
      height: 40px;
    }

    footer .footer-info {
      text-align: center;
      margin-top: 24px;
    }

    footer .footer-info p {
      font-size: 0.85rem;
      margin: 6px 0;
      opacity: 0.9;
    }

    footer .footer-info a {
      color: #fff;
      text-decoration: none;
      transition: color 0.3s ease, text-decoration 0.3s ease;
    }

    footer .footer-info a:hover {
      color: #f0f0f0;
      text-decoration: underline;
    }

    footer .footer-info a:focus {
      outline: 2px solid #fff;
      outline-offset: 2px;
    }

    @media (max-width: 600px) {
      .notification-bar {
        font-size: 0.85rem;
        padding: 8px;
      }

      .header-bar {
        padding: 12px 16px;
      }

      .header-bar .logo-text {
        font-size: 1.2rem;
      }

      .header-icons svg,
      .menu-icon svg {
        width: 20px;
        height: 20px;
      }

      .login-section {
        padding: 20px;
        margin: 24px auto;
      }

      .login-section h2 {
        font-size: 1.2rem;
        margin-bottom: 16px;
      }

      .login-section input {
        font-size: 0.85rem;
      }

      .login-section input::placeholder {
        font-size: 0.85rem;
      }

      .login-section .error-message {
        font-size: 0.75rem;
      }

      .login-section button {
        font-size: 0.9rem;
        padding: 12px 16px;
      }

      .login-section .forgot-password,
      .login-section .signup-link {
        font-size: 0.75rem;
      }

      .spinner {
        width: 20px;
        height: 20px;
      }

      footer {
        padding: 32px 12px;
      }

      footer .footer-logo {
        font-size: 1.3rem;
        margin-bottom: 20px;
      }

      footer .footer-links {
        gap: 12px;
        margin-bottom: 24px;
      }

      footer .footer-links a {
        font-size: 0.85rem;
        padding: 6px 10px;
      }

      footer .social-links {
        gap: 12px;
        margin-bottom: 24px;
      }

      footer .social-links a {
        width: 35px;
        height: 35px;
      }

      footer .social-links img {
        width: 20px;
        height: 20px;
      }

      footer .payment-methods h4 {
        font-size: 0.9rem;
        margin-bottom: 12px;
      }

      footer .payment-methods img {
        margin: 0 6px;
        height: 28px;
      }

      footer .payment-methods img.pix-icon {
        height: 38px;
      }

      footer .footer-info p {
        font-size: 0.8rem;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- Barra de NotificaÃ§Ã£o -->
  <div class="notification-bar">
    Garanta agora o seu <strong>we favorito!</strong> <a href="feminino.html">Confira</a>
  </div>

  <!-- CabeÃ§alho -->
  <div class="header-bar">
    <button class="menu-icon">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <div class="logo-text">wepink</div>
    <div class="header-icons">
      <a href="login.html">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </a>
      <a href="product.html">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
      </a>
    </div>
  </div>

  <!-- SeÃ§Ã£o de Login -->
  <section class="login-section">
    <h2>Entrar na Conta</h2>
    <p id="error-message" class="error-message">Nenhum pedido encontrado. Volte ao carrinho para continuar sua compra.</p>
    <div id="login-form">
      <input type="email" id="email" placeholder="E-mail" required oninput="validateLoginForm()">
      <p class="error-message" id="error-email"></p>
      <div class="password-wrapper">
        <input type="password" id="password" placeholder="Senha" required oninput="validateLoginForm()">
        <span class="toggle-password" onclick="togglePassword()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
        </span>
      </div>
      <p class="error-message" id="error-password"></p>
      <a href="#" class="forgot-password">Esqueci minha senha</a>
    </div>
    <div id="guest-details" class="guest-details">
      <input type="text" id="guest-name" placeholder="Nome Completo" required oninput="validateGuestForm()">
      <p class="error-message" id="error-guest-name"></p>
      <input type="email" id="guest-email" placeholder="E-mail" required oninput="validateGuestForm()">
      <p class="error-message" id="error-guest-email"></p>
      <input type="text" id="guest-cpf" placeholder="CPF (somente nÃºmeros)" maxlength="11" pattern="\d{11}" required oninput="validateGuestForm(); cleanCPFInput(this)">
      <p class="error-message" id="error-guest-cpf"></p>
    </div>
    <div class="action-buttons">
      <button id="login-button" onclick="simulateLogin()" disabled>Entrar <span class="spinner" id="login-spinner"></span></button>
      <button id="guest-button" class="guest-button" onclick="toggleGuestDetails()">Continuar como Convidado <span class="spinner" id="guest-spinner"></span></button>
      <button id="guest-proceed-button" class="guest-button" style="display: none;" onclick="proceedAsGuest()" disabled>Prosseguir <span class="spinner" id="guest-proceed-spinner"></span></button>
    </div>
    <a href="#" class="signup-link">NÃ£o tem uma conta? Cadastre-se</a>
  </section>

  <!-- RodapÃ© -->
  <footer>
    <div class="footer-logo">wepink</div>
    <nav class="footer-links" role="navigation" aria-label="Links do rodapÃ©">
      <a href="#">Sobre nÃ³s</a>
      <a href="#">Central de ajuda</a>
      <a href="#">Troca e devoluÃ§Ãµes</a>
      <a href="#">WhatsApp</a>
      <a href="#">Regulamento Live Wepink 19</a>
      <a href="#">Trabalhe conosco</a>
      <a href="#">Consulte sua entrega</a>
      <a href="#">Franquias</a>
    </nav>
    <div class="social-links" role="navigation" aria-label="Links sociais">
      <a href="https://www.instagram.com" target="_blank" aria-label="Instagram">
        <img src="img/instagram.png" alt="Ãcone do Instagram" onerror="this.src='https://via.placeholder.com/24?text=IG';">
      </a>
      <a href="https://www.facebook.com" target="_blank" aria-label="Facebook">
        <img src="img/facebook.png" alt="Ãcone do Facebook" onerror="this.src='https://via.placeholder.com/24?text=FB';">
      </a>
      <a href="https://www.youtube.com" target="_blank" aria-label="YouTube">
        <img src="img/youtube.png" alt="Ãcone do YouTube" onerror="this.src='https://via.placeholder.com/24?text=YT';">
      </a>
      <a href="https://www.whatsapp.com" target="_blank" aria-label="WhatsApp">
        <img src="img/whatsapp.png" alt="Ãcone do WhatsApp" onerror="this.src='https://via.placeholder.com/24?text=WA';">
      </a>
    </div>
    <div class="payment-methods">
      <h4>Formas de pagamento</h4>
      <img src="img/visa.png" alt="Ãcone da bandeira Visa" onerror="this.src='https://via.placeholder.com/30?text=Visa';">
      <img src="img/mastercard.png" alt="Ãcone da bandeira Mastercard" onerror="this.src='https://via.placeholder.com/30?text=MC';">
      <img src="img/elo.png" alt="Ãcone da bandeira Elo" onerror="this.src='https://via.placeholder.com/30?text=Elo';">
      <img src="img/amex.png" alt="Ãcone da bandeira Amex" onerror="this.src='https://via.placeholder.com/30?text=Amex';">
      <img src="img/boleto.png" alt="Ãcone do mÃ©todo Boleto" onerror="this.src='https://via.placeholder.com/30?text=Boleto';">
      <img src="img/pix.png" alt="Ãcone do mÃ©todo Pix" class="pix-icon" onerror="this.src='https://via.placeholder.com/40?text=Pix';">
    </div>
    <div class="footer-info">
      <p>PolÃ­tica de Privacidade | Termos de Uso</p>
      <p>Todos os direitos reservados Â© 2025 | SAVI COSMÃTICOS LTDA | CNPJ: 42.422.967/0001-01</p>
    </div>
  </footer>

  <script>
    // FunÃ§Ã£o para alternar visibilidade da senha
    function togglePassword() {
      const passwordInput = document.getElementById('password');
      const toggleIcon = document.querySelector('.toggle-password svg');
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
        `;
      } else {
        passwordInput.type = 'password';
        toggleIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
        `;
      }
    }

    // FunÃ§Ã£o para limpar CPF (somente nÃºmeros)
    function cleanCPFInput(input) {
      input.value = input.value.replace(/\D/g, '').slice(0, 11);
    }

    // FunÃ§Ã£o para validar o formulÃ¡rio de login
    function validateLoginForm() {
      const emailInput = document.getElementById('email');
      const passwordInput = document.getElementById('password');
      const loginButton = document.getElementById('login-button');

      let isValid = true;

      const emailValue = emailInput.value.trim();
      const emailError = document.getElementById('error-email');
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailValue)) {
        emailInput.classList.add('invalid');
        emailError.textContent = 'E-mail invÃ¡lido.';
        emailError.classList.add('visible');
        isValid = false;
      } else {
        emailInput.classList.remove('invalid');
        emailError.classList.remove('visible');
      }

      const passwordValue = passwordInput.value.trim();
      const passwordError = document.getElementById('error-password');
      if (passwordValue.length < 4) {
        passwordInput.classList.add('invalid');
        passwordError.textContent = 'A senha deve ter pelo menos 4 caracteres.';
        passwordError.classList.add('visible');
        isValid = false;
      } else {
        passwordInput.classList.remove('invalid');
        passwordError.classList.remove('visible');
      }

      loginButton.disabled = !isValid;
    }

    // FunÃ§Ã£o para validar o formulÃ¡rio de convidado
    function validateGuestForm() {
      const nameInput = document.getElementById('guest-name');
      const emailInput = document.getElementById('guest-email');
      const cpfInput = document.getElementById('guest-cpf');
      const proceedButton = document.getElementById('guest-proceed-button');

      let isValid = true;

      const nameValue = nameInput.value.trim();
      const nameError = document.getElementById('error-guest-name');
      if (!nameValue || nameValue.length < 3) {
        nameInput.classList.add('invalid');
        nameError.textContent = 'Nome deve ter pelo menos 3 caracteres.';
        nameError.classList.add('visible');
        isValid = false;
      } else {
        nameInput.classList.remove('invalid');
        nameError.classList.remove('visible');
      }

      const emailValue = emailInput.value.trim();
      const emailError = document.getElementById('error-guest-email');
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailValue)) {
        emailInput.classList.add('invalid');
        emailError.textContent = 'E-mail invÃ¡lido.';
        emailError.classList.add('visible');
        isValid = false;
      } else {
        emailInput.classList.remove('invalid');
        emailError.classList.remove('visible');
      }

      const cpfValue = cpfInput.value.replace(/\D/g, '');
      const cpfError = document.getElementById('error-guest-cpf');
      if (cpfValue.length !== 11) {
        cpfInput.classList.add('invalid');
        cpfError.textContent = 'CPF deve conter exatamente 11 dÃ­gitos.';
        cpfError.classList.add('visible');
        isValid = false;
      } else {
        cpfInput.classList.remove('invalid');
        cpfError.classList.remove('visible');
      }

      proceedButton.disabled = !isValid;
    }

    // FunÃ§Ã£o para mostrar o spinner e iniciar transiÃ§Ã£o de fade-out
    function showLoadingSpinner(buttonId, spinnerId) {
      const button = document.getElementById(buttonId);
      const spinner = document.getElementById(spinnerId);
      button.classList.add('loading');
      button.disabled = true;
      spinner.classList.add('visible');
      document.body.classList.add('fade-out');
    }

    // FunÃ§Ã£o para alternar a exibiÃ§Ã£o dos campos de convidado
    function toggleGuestDetails() {
      const guestDetails = document.getElementById('guest-details');
      const loginForm = document.getElementById('login-form');
      const guestButton = document.getElementById('guest-button');
      const guestProceedButton = document.getElementById('guest-proceed-button');
      const forgotPassword = document.querySelector('.forgot-password');
      const signupLink = document.querySelector('.signup-link');

      if (guestDetails.classList.contains('active')) {
        guestDetails.classList.remove('active');
        loginForm.style.display = 'block';
        guestButton.textContent = 'Continuar como Convidado';
        guestProceedButton.style.display = 'none';
        forgotPassword.style.display = 'block';
        signupLink.style.display = 'inline-block';
      } else {
        guestDetails.classList.add('active');
        loginForm.style.display = 'none';
        guestButton.textContent = 'Voltar ao Login';
        guestProceedButton.style.display = 'block';
        forgotPassword.style.display = 'none';
        signupLink.style.display = 'none';
      }
    }

    // Verificar se hÃ¡ dados de pedido pendente ao carregar a pÃ¡gina
    const purchaseData = JSON.parse(localStorage.getItem('pendingPurchase')) || {};
    console.log('Dados de pendingPurchase ao carregar login.html:', purchaseData);

    window.onload = function() {
      const errorMessage = document.getElementById('error-message');
      if (!purchaseData.cartItems || purchaseData.cartItems.length === 0) {
        errorMessage.classList.add('visible');
        document.querySelector('.action-buttons').style.display = 'none';
        document.querySelector('input[id="email"]').style.display = 'none';
        document.querySelector('.password-wrapper').style.display = 'none';
        document.querySelector('.forgot-password').style.display = 'none';
        document.querySelector('.signup-link').style.display = 'none';
        setTimeout(() => window.location.href = 'product.html', 3000);
      } else {
        errorMessage.classList.remove('visible');
        document.querySelector('.action-buttons').style.display = 'flex';
        document.querySelector('input[id="email"]').style.display = 'block';
        document.querySelector('.password-wrapper').style.display = 'block';
        document.querySelector('.forgot-password').style.display = 'block';
        document.querySelector('.signup-link').style.display = 'inline-block';
      }
    };

    // FunÃ§Ã£o para simular o login e redirecionar para payment.html
    function simulateLogin() {
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();

  if (!email || !password) {
    console.error('E-mail ou senha nÃ£o preenchidos.');
    return;
  }

  showLoadingSpinner('login-button', 'login-spinner');

  const purchaseData = JSON.parse(localStorage.getItem('pendingPurchase')) || {};
  console.log('Dados de pendingPurchase antes do login:', purchaseData);

  if (!purchaseData.cartItems || purchaseData.cartItems.length === 0) {
    const errorMessage = document.getElementById('error-message');
    errorMessage.textContent = 'Erro: Dados do pedido nÃ£o encontrados. Volte ao carrinho para continuar sua compra.';
    errorMessage.classList.add('visible');
    setTimeout(() => window.location.href = 'product.html', 2000);
    return;
  }

  const simulatedUserData = {
    name: 'UsuÃ¡rio Logado',
    cpf: '98765432100',
    email: email,
    password: password
  };

  purchaseData.name = simulatedUserData.name;
  purchaseData.cpf = simulatedUserData.cpf;
  purchaseData.email = simulatedUserData.email;
  purchaseData.password = simulatedUserData.password;
  purchaseData.loginType = 'User';
  localStorage.setItem('pendingPurchase', JSON.stringify(purchaseData));
  console.log('pendingPurchase atualizado com dados do usuÃ¡rio logado:', purchaseData);

  const savedPurchaseData = JSON.parse(localStorage.getItem('pendingPurchase'));
  if (!savedPurchaseData || !savedPurchaseData.email || !savedPurchaseData.password || savedPurchaseData.loginType !== 'User') {
    console.error('Erro ao salvar dados do usuÃ¡rio no pendingPurchase:', savedPurchaseData);
    alert('Erro ao processar o login. Tente novamente.');
    return;
  }

  setTimeout(() => window.location.href = 'payment.html', 500);
}

function proceedAsGuest() {
  const name = document.getElementById('guest-name').value.trim();
  const email = document.getElementById('guest-email').value.trim();
  const cpf = document.getElementById('guest-cpf').value.trim();

  if (!name || !email || !cpf) {
    console.error('Dados de convidado incompletos.');
    return;
  }

  showLoadingSpinner('guest-proceed-button', 'guest-proceed-spinner');

  const purchaseData = JSON.parse(localStorage.getItem('pendingPurchase')) || {};
  console.log('Dados de pendingPurchase antes de prosseguir como convidado:', purchaseData);

  if (!purchaseData.cartItems || purchaseData.cartItems.length === 0) {
    const errorMessage = document.getElementById('error-message');
    errorMessage.textContent = 'Erro: Dados do pedido nÃ£o encontrados. Volte ao carrinho para continuar sua compra.';
    errorMessage.classList.add('visible');
    setTimeout(() => window.location.href = 'product.html', 2000);
    return;
  }

  purchaseData.name = name;
  purchaseData.email = email;
  purchaseData.cpf = cpf;
  purchaseData.loginType = 'Guest';
  purchaseData.password = null;
  localStorage.setItem('pendingPurchase', JSON.stringify(purchaseData));
  console.log('pendingPurchase atualizado com dados do convidado:', purchaseData);

  const savedPurchaseData = JSON.parse(localStorage.getItem('pendingPurchase'));
  if (!savedPurchaseData || !savedPurchaseData.email || !savedPurchaseData.cpf || savedPurchaseData.loginType !== 'Guest') {
    console.error('Erro ao salvar dados do convidado no pendingPurchase:', savedPurchaseData);
    alert('Erro ao prosseguir como convidado. Tente novamente.');
    return;
  }

  setTimeout(() => window.location.href = 'payment.html', 500);
}

    // FunÃ§Ã£o para prosseguir como convidado
    function proceedAsGuest() {
      const name = document.getElementById('guest-name').value.trim();
      const email = document.getElementById('guest-email').value.trim();
      const cpf = document.getElementById('guest-cpf').value.trim();

      if (!name || !email || !cpf) {
        console.error('Dados de convidado incompletos.');
        return;
      }

      showLoadingSpinner('guest-proceed-button', 'guest-proceed-spinner');

      const purchaseData = JSON.parse(localStorage.getItem('pendingPurchase')) || {};
      console.log('Dados de pendingPurchase antes de prosseguir como convidado:', purchaseData);

      if (!purchaseData.cartItems || purchaseData.cartItems.length === 0) {
        const errorMessage = document.getElementById('error-message');
        errorMessage.textContent = 'Erro: Dados do pedido nÃ£o encontrados. Volte ao carrinho para continuar sua compra.';
        errorMessage.classList.add('visible');
        setTimeout(() => window.location.href = 'product.html', 2000);
        return;
      }

      // Atualizar pendingPurchase com os dados do convidado
      purchaseData.name = name;
      purchaseData.email = email;
      purchaseData.cpf = cpf;
      purchaseData.loginType = 'Guest';
      purchaseData.password = null; // Garantir que nÃ£o hÃ¡ senha para convidado
      localStorage.setItem('pendingPurchase', JSON.stringify(purchaseData));
      console.log('pendingPurchase atualizado com dados do convidado:', purchaseData);

      // Verificar se os dados foram salvos corretamente
      const savedPurchaseData = JSON.parse(localStorage.getItem('pendingPurchase'));
      if (!savedPurchaseData || !savedPurchaseData.email || !savedPurchaseData.cpf || savedPurchaseData.loginType !== 'Guest') {
        console.error('Erro ao salvar dados do convidado no pendingPurchase:', savedPurchaseData);
        alert('Erro ao prosseguir como convidado. Tente novamente.');
        return;
      }

      setTimeout(() => window.location.href = 'payment.html', 500);
    }
  </script>
</body>
</html>
